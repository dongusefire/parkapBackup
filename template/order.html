<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>预定车位</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../css/order.css" />
		<link rel="stylesheet" href="../css/mui.picker.css" />
		<link rel="stylesheet" href="../css/mui.poppicker.css" />
		<link rel="stylesheet" href="../css/mui.picker.min.css" />
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back  mui-pull-left back"><span class="mui-icon mui-icon-arrowleft" style="font-size: 35px; padding-top: 0;color:#292929;"></span></a>
			<a href="carportShare.html" class="mui-pull-right optional">自选车位</a>
			<h1 class="mui-title">预定车位</h1>
		</header>
		<div class="mui-content">
			<div class="picture"></div>
		    <!--<img src="../img/yuantiao.jpg" alt="" />-->
		    <div class="siteInfo">
		    	<div class="name">
		    		<span class='big'>万科停车场</span> <span class="price">5元</span>/小时
		    	</div>
		    	<p class="address"><img src="../img/Page1.png"/> 广东省广州市黄埔区石化路225号</p>
		    	<p class="num">
		    		车位： <span class='occupied'>200</span>/400
		    	</p>
		    </div>
		    <!--选择器-->
		    <div class="select-box">
		    	<!--车牌号选择器-->
		    	<div class="select carNo">
		    		<span class="label">车牌号:</span>
		    		<div>
		    			<span class="details" id="showCarno">粤G88888</span>
		    			<span class="mui-icon mui-icon-arrowright"></span>
		    		</div>
		    	</div>
		    	<!--起始时间选择器-->
		    	<div class="select">
		    		<span class="label">入场时间:</span>
		    		<div>
		    			<span class="time" id="showStartime" data-options='{"value":"2018-10-10 10:10","beginYear":2010,"endYear":2020}'>2018-06-13 10:10</span>
		    			<span class="mui-icon mui-icon-arrowright"></span>
		    		</div>
		    	</div>
		    	<div class="line"></div>
		    	<!--结束时间选择器-->
		    	<div class="select">
		    		<span class="label">出场时间:</span>
		    		<div>
		    			<span class="time" id="showEndtime" data-options='{"value":"2018-06-12 10:10","beginYear":2017,"endYear":2020}'>2018-06-13 10:10</span>
		    			<span class="mui-icon mui-icon-arrowright"></span>
		    		</div>
		    	</div>
		    </div>
		    <!--温馨提示-->
		    <div class="prompt">
		    	<p class="tit">温馨提示：</p>
		    	<p>欢迎使用，请您在选择车位时确认好选择时间，车牌号等信息，以确保预定信息准确提交<p>
		    </div>
		    <div class="fee">
		    	<span class="tcf">停车费:</span><span class="num">12</span>
		    	<button class='reserve'>立即预定</button>
		    </div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script src="../js/mui.picker.js"></script>
		<script src="../js/mui.poppicker.js"></script>
		<script src="../js/mui.picker.min.js"></script>
		<script type="text/javascript">
			(function($,doc){
				$.init();
				$.ready(function(){
					//选择车牌号
					var carnoPicker = new $.PopPicker();
					carnoPicker.setData([{
						value: '粤G88888',
						text: '粤G88888'
					}, {
						value: '京G88888',
						text: '京G88888'
					}, {
						value: '沪G88888',
						text: '沪G88888'
					}])
					var showCarno = doc.getElementById('showCarno');
					showCarno.addEventListener('tap',function(event){
						carnoPicker.show(function(items){
							showCarno.innerHTML = items[0].text;
						})
					},false);
					
					//时间拾取器
					var btns = $('.time');
					btns.each(function(i,btn){
						btn.addEventListener('tap',function(){
							var _self = this;
							if(_self.picker){
								_self.picker.show(function(rs){
									_self.innerHTML=res.text;
									_self.picker.dispose();
									_self.picker = null;
								});
							}else{
								var optionsJson = this.getAttribute('data-options')||'{}';
								var options = JSON.parse(optionsJson);
								var id = this.getAttribute('id');
								/*
								 *首次显示实例化组件
								 * 这里把optios放到了按钮的dom上，
								 * 也可以直接通过代码声明options用于实例化DtPicker
								*/
								_self.picker = new $.DtPicker(options);
								_self.picker.show(function(rs){
									_self.innerHTML=rs.text;
									_self.picker.dispose();
									_self.picker = null;
								})
							}
						},false);
					})
				});
			})(mui,document);
			
		</script>
	</body>

</html>